<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CraftX.py â€¢ Elevate your Python AI</title>
    <style>
        :root {
            --accent: #2196F3;
            --bg: #f9f9fb;
            --dark: #222;
            --light: #fff;
            --radius: 6px;
            --spacing: 1rem;
            --font: 'Segoe UI', Roboto, sans-serif;
        }

        /* Base resets */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font);
            color: var(--dark);
            background: var(--bg);
            line-height: 1.5;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Layout */
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: var(--spacing);
        }

        header,
        footer {
            text-align: center;
            padding: var(--spacing) 0;
        }

        /* Hero */
        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4rem 0;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .hero p.subtitle {
            font-size: 1.25rem;
            color: #555;
            max-width: 600px;
            text-align: center;
        }

        .signin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 0.75rem;
            margin-top: 2rem;
            width: 100%;
            max-width: 600px;
        }

        .btn-oauth {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem;
            background: var(--light);
            border: 1px solid #ccc;
            border-radius: var(--radius);
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
        }

        .btn-oauth:hover {
            background: var(--accent);
            color: var(--light);
            border-color: var(--accent);
        }

        .btn-oauth svg {
            width: 20px;
            height: 20px;
            margin-right: 0.5rem;
            fill: currentColor;
        }

        .btn-oauth.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Sections */
        section {
            margin-top: 3rem;
        }

        section h2 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        section p {
            margin-top: 0.5rem;
            color: #444;
        }

        /* Footer */
        footer p {
            font-size: 0.85rem;
            color: #777;
        }
    </style>
</head>

<body>
    <header class="container">
        <h1>CraftX.py</h1>
        <p class="subtitle">Python-native intelligence, modular by design.</p>
    </header>

    <section class="hero container">
        <p class="subtitle">
            A next-generation AI framework that evolves with you. Sign in to download and start building intelligent,
            ethical, and extensible Python apps today.
        </p>
        <div class="signin-grid" id="oauth-buttons">
            <!-- Buttons will be enabled once JS detects your auth endpoint -->
            <button class="btn-oauth" data-provider="microsoft">
                <!-- example SVG icon, replace with official logos -->
                <svg viewBox="0 0 24 24">
                    <path d="M1 1h10v10H1zM13 1h10v10H13zM1 13h10v10H1zM13 13h10v10H13z" />
                </svg>
                Microsoft
            </button>
            <button class="btn-oauth" data-provider="apple">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M20 15c-.9 2.2-2.6 3.7-4.6 3.7-1.8 0-2.7-1-4-1s-2.3 1-4 1c-2 0-3.8-1.6-4.6-3.8C2 13.3 4.6 7.7 7.7 7.7c1.4 0 2.6.9 4 0 .8-.6 2.2-.9 3.3-.9 2.7 0 5.4 3.4 4 8.1z" />
                </svg>
                Apple
            </button>
            <button class="btn-oauth" data-provider="google">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M21 12.3c0-.8-.1-1.5-.3-2.2H12v4.1h4.9c-.2 1.1-.8 2-1.6 2.6l2.6 2 1.8-1.8c1.7-1.6 2.6-3.9 2.6-6.7z" />
                </svg>
                Google
            </button>
            <button class="btn-oauth" data-provider="okta">
                <svg viewBox="0 0 24 24">
                    <path d="M4 4h4v16H4zM9 4h4v16H9zM14 4h4v16h-4z" />
                </svg>
                Okta
            </button>
            <button class="btn-oauth" data-provider="orcid">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8 0-2 .8-3.8 2.1-5l10.9 10.9c-1.2 1.4-2.9 2.1-4.9 2.1zm5.9-3.4L7 6.1c1.4-1.2 3.2-2 5.1-2 4.4 0 8 3.6 8 8 0 2-.8 3.8-2.1 5z" />
                </svg>
                ORCID
            </button>
            <button class="btn-oauth" data-provider="github">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 .5C5.7.5.5 5.7.5 12c0 5.1 3.3 9.4 7.8 10.9.6.1.8-.2.8-.5v-1.8c-3.2.7-3.8-1.5-3.8-1.5-.5-1.3-1.3-1.6-1.3-1.6-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1 1.7-.7 1.7-.7.9-1.7 2.4-1.2 3-.9.1-.7.4-1.2.8-1.5-2.5-.3-5.1-1.3-5.1-5.7 0-1.3.5-2.4 1.2-3.3 0-.3-.5-1.4.1-2.8 0 0 1-.3 3.3 1.2 1-.3 2-.5 3-.5s2 .2 3 .5c2.3-1.5 3.3-1.2 3.3-1.2.6 1.4.1 2.5.1 2.8.8.9 1.2 2 1.2 3.3 0 4.4-2.6 5.4-5.1 5.7.4.3.8 1 .8 2v2.9c0 .3.2.6.8.5C20.7 21.4 24 17.1 24 12c0-6.3-5.2-11.5-12-11.5z" />
                </svg>
                GitHub
            </button>
        </div>
    </section>

    <section class="container" id="about">
        <h2>Why CraftX.py?</h2>
        <p>
            Born from a passion for ethical AI and modular design, CraftX.py empowers developers to build next-level
            Python applications. We keep the core lean, plugin-driven, and fully extensibleâ€”so your code can grow as
            your ideas do.
        </p>

        <h2>About ElevateCraft</h2>
        <p>
            ElevateCraft is a community and platform dedicated to sovereignty, reproducibility, and responsible
            innovation. Our mission is to uplift developers and organizations by providing transparent, open-source
            tooling that respects privacy and fosters collaboration.
        </p>

        <h2>AI Oversight & Safety</h2>
        <p>
            Every download is vetted through an embedded AI Safety Officer powered by a proprietary model. This on-board
            guardian scans your configuration and usage patterns to prevent malicious activity, ensuring CraftX.py
            remains a force for good.
        </p>
    </section>

    <footer class="container">
        <p>&copy; 2025 ElevateCraft â€¢ MIT License â€¢ <a href="/terms.html">Terms</a> â€¢ <a
                href="/privacy.html">Privacy</a></p>
    </footer>

    <script>
        // Placeholder OAuth initiation: your server should expose /auth/{provider}
        document.querySelectorAll('.btn-oauth').forEach(btn => {
            btn.addEventListener('click', () => {
                const provider = btn.dataset.provider;
                window.location.href = `/auth/${provider}`;
            });
        });

        // After login, server should redirect back with a valid token
        // Example: ?token=eyJ... in URL
        function enableDownload() {
            // Replace hero with download CTA once authenticated
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('token')) {
                const hero = document.querySelector('.hero');

                // Show legal documents modal first
                showLegalDocumentsModal();

                hero.innerHTML = `
          <div style="text-align: center; padding: 2rem;">
            <h2 style="color: var(--accent); margin-bottom: 1rem;">Welcome to CraftX.py!</h2>
            <p style="margin-bottom: 1rem;">Please review and accept the legal documents below to proceed.</p>
            <button id="acceptLegalDocs" class="btn-oauth" style="width:100%; margin-top:1rem; opacity: 0.5;" disabled>
              Review Legal Documents First
            </button>
          </div>
        `;

                // Update footer to show all legal documents for logged-in users
                updateFooterForLoggedInUser();
            }
        }

        function showLegalDocumentsModal() {
            const modal = document.createElement('div');
            modal.id = 'legalModal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
            `;

            modal.innerHTML = `
                <div style="
                    background: white;
                    padding: 2rem;
                    border-radius: 10px;
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    text-align: center;
                ">
                    <h2 style="color: var(--accent); margin-bottom: 1rem;">ðŸ“‹ Legal Documents</h2>
                    <p style="margin-bottom: 2rem;">As a new user, please review these important documents:</p>
                    
                    <div style="display: grid; gap: 1rem; margin-bottom: 2rem;">
                        <a href="/eula.html" target="_blank" style="
                            background: var(--accent);
                            color: white;
                            padding: 1rem;
                            border-radius: 5px;
                            text-decoration: none;
                            display: block;
                        ">ðŸ“œ End User License Agreement (EULA)</a>
                        
                        <a href="/nda.html" target="_blank" style="
                            background: var(--accent);
                            color: white;
                            padding: 1rem;
                            border-radius: 5px;
                            text-decoration: none;
                            display: block;
                        ">ðŸ”’ Non-Disclosure Agreement (NDA)</a>
                    </div>
                    
                    <div style="margin-bottom: 2rem;">
                        <label style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <input type="checkbox" id="acceptEULA" />
                            <span>I have read and accept the EULA</span>
                        </label>
                        <label style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-top: 0.5rem;">
                            <input type="checkbox" id="acceptNDA" />
                            <span>I have read and accept the NDA</span>
                        </label>
                    </div>
                    
                    <button id="proceedButton" style="
                        background: #ccc;
                        color: white;
                        padding: 1rem 2rem;
                        border: none;
                        border-radius: 5px;
                        cursor: not-allowed;
                        margin-right: 1rem;
                    " disabled>Proceed to Download</button>
                    
                    <button onclick="document.getElementById('legalModal').remove()" style="
                        background: #666;
                        color: white;
                        padding: 1rem 2rem;
                        border: none;
                        border-radius: 5px;
                        cursor: pointer;
                    ">Close</button>
                </div>
            `;

            document.body.appendChild(modal);

            // Handle checkbox logic
            const eulaCheckbox = document.getElementById('acceptEULA');
            const ndaCheckbox = document.getElementById('acceptNDA');
            const proceedButton = document.getElementById('proceedButton');

            function updateProceedButton() {
                if (eulaCheckbox.checked && ndaCheckbox.checked) {
                    proceedButton.disabled = false;
                    proceedButton.style.background = 'var(--accent)';
                    proceedButton.style.cursor = 'pointer';
                    proceedButton.textContent = 'Proceed to Download';
                } else {
                    proceedButton.disabled = true;
                    proceedButton.style.background = '#ccc';
                    proceedButton.style.cursor = 'not-allowed';
                    proceedButton.textContent = 'Accept Documents to Continue';
                }
            }

            eulaCheckbox.addEventListener('change', updateProceedButton);
            ndaCheckbox.addEventListener('change', updateProceedButton);

            proceedButton.addEventListener('click', function () {
                if (eulaCheckbox.checked && ndaCheckbox.checked) {
                    const urlParams = new URLSearchParams(window.location.search);
                    const token = urlParams.get('token');

                    // Enable download button
                    const downloadBtn = document.getElementById('acceptLegalDocs');
                    if (downloadBtn) {
                        downloadBtn.innerHTML = 'ðŸš€ Download CraftX.py';
                        downloadBtn.disabled = false;
                        downloadBtn.style.opacity = '1';
                        downloadBtn.onclick = () => {
                            window.location.href = `/download/craftxpy.zip?token=${token}`;
                        };
                    }

                    // Close modal
                    modal.remove();

                    // Store acceptance in localStorage
                    localStorage.setItem('craftx_legal_accepted', 'true');
                    localStorage.setItem('craftx_legal_date', new Date().toISOString());
                }
            });
        }

        function updateFooterForLoggedInUser() {
            const footerLinks = document.querySelector('.footer-links');
            if (footerLinks && !footerLinks.querySelector('a[href="/eula.html"]')) {
                const eulaLink = document.createElement('a');
                eulaLink.href = '/eula.html';
                eulaLink.textContent = 'EULA';

                const ndaLink = document.createElement('a');
                ndaLink.href = '/nda.html';
                ndaLink.textContent = 'NDA';

                footerLinks.appendChild(eulaLink);
                footerLinks.appendChild(ndaLink);
            }
        }

        // Check if user has already accepted legal documents
        function checkLegalAcceptance() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('token') && localStorage.getItem('craftx_legal_accepted') === 'true') {
                updateFooterForLoggedInUser();
            }
        }

        window.addEventListener('load', function () {
            enableDownload();
            checkLegalAcceptance();
        });
    </script>
</body>

</html>